<script>
    // ... (resto del codice precedente uguale)

    function up() {
        const now = new Date();
        const dK = now.getDate() + "/" + (now.getMonth() + 1);
        const today = data.find(x => x.d === dK);
        if(!today) return;

        const pr = [{n:"Fajr",t:today.f}, {n:"Dhuhr",t:today.dh}, {n:"Asr",t:today.a}, {n:"Maghrib",t:today.m}, {n:"Ishaa",t:today.i}];
        let h="", nextFound=false;

        pr.forEach(p => {
            const [hrs, min] = p.t.split(":");
            const pD = new Date(); pD.setHours(parseInt(hrs), parseInt(min), 0);
            const diff = pD - now;

            // --- LOGICA COUNTDOWN PERSONALIZZATO ---
            // 30 minuti per Fajr (1800000 ms), 10 minuti per gli altri (600000 ms)
            const postDurationMs = (p.n === "Fajr") ? 30 * 60 * 1000 : 10 * 60 * 1000;

            if (diff <= 0 && diff > -postDurationMs) {
                document.getElementById('post-timer').style.display = 'block';
                const remaining = postDurationMs + diff;
                const rM = Math.floor(remaining/60000).toString().padStart(2,"0");
                const rS = Math.floor((remaining%60000)/1000).toString().padStart(2,"0");
                document.getElementById('post-countdown').innerText = rM + ":" + rS;
                
                // Cambia colore al timer se Ã¨ il Fajr per evidenziarlo
                document.getElementById('post-timer').style.background = (p.n === "Fajr") ? "#00695c" : "#c19b6c";
            } 
            // ... (restante logica di notifica e timer principale)
